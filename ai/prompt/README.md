# プロンプトテンプレート集 (Prompt Templates)

このディレクトリには、AI（Claude）との協業を効率化するためのプロンプトテンプレートを格納しています。

---

## 収録テンプレート

| ファイル名 | 用途 | スコープ |
|-----------|------|---------|
| `feature-specification-template.md` | 機能仕様書作成 | 機能単位 |

---

## feature-specification-template.md

### 概要

アプリケーション開発において、1つの機能を定義するための仕様書テンプレートです。

**目的:**
- 人間が読んでも理解しやすい設計ドキュメント
- Claude が正確に実装できる構造化された指示書

### テンプレート構成

| セクション | 内容 | 必須/オプション |
|-----------|------|----------------|
| 1. 機能概要 | 機能名、目的、ユーザーストーリー | 必須 |
| 2. 機能要件 | 入力・処理・出力・制約条件 | 必須 |
| 3. 非機能要件 | パフォーマンス、セキュリティ、エラー処理 | オプション |
| 4. UI/UX要件 | 画面遷移、コンポーネント、デザイン参照 | オプション |
| 5. 技術仕様 | アプリ種別、技術スタック、統合ポイント | 必須 |
| 6. テスト観点 | 正常系、異常系、エッジケース | 必須 |
| 7. 参考情報 | 関連ドキュメント、参考リンク | オプション |
| Claudeへの指示 | 実装範囲、優先順位、制約 | Claude依頼時のみ |

### 使い方

#### 1. テンプレートをコピー

```bash
cp feature-specification-template.md ../my-feature-spec.md
```

#### 2. 【】内を記入

各セクションの `【】` を実際の内容に置き換えます。

**良い例:**
```markdown
### 機能名
料理履歴検索機能

### 目的・背景
ユーザーが過去に作った料理を再度作りたい場合、
現状では全履歴をスクロールして探す必要がある。
キーワード検索により、目的の料理を素早く見つけられるようにする。
```

**悪い例:**
```markdown
### 機能名
検索機能  ← 何の検索か不明

### 目的・背景
便利にするため  ← 具体性がない
```

#### 3. オプション項目の扱い

UI を持たない API 機能の場合:
```markdown
## 4. UI/UX要件 (UI/UX Requirements) *オプション*

N/A（API機能のため）
```

#### 4. Claude に渡す

Claude Code や Claude.ai で仕様書の内容を貼り付け、実装を依頼します。

```
以下の仕様書に基づいて実装してください。

[仕様書の内容を貼り付け]
```

---

## ベストプラクティス

### 人間にとってわかりやすくするコツ

1. **具体的に書く**: 「ユーザー情報を表示」→「ユーザー名、メールアドレス、登録日を表示」
2. **理由を書く**: 「なぜ」この機能が必要かを目的・背景に記載
3. **図を活用**: 画面遷移は矢印記法やMermaidで視覚化

### Claude の精度を上げるコツ

1. **技術スタックを明示**: 使用するフレームワーク、ライブラリを具体的に記載
2. **既存コードを参照**: 変更対象ファイル、参考にすべき既存実装のパスを記載
3. **制約を明確に**: コーディング規約、避けるべきパターンを「Claudeへの指示」に記載
4. **テストケースを書く**: 期待する動作を具体的に列挙

### 避けるべきこと

- 曖昧な表現（「適切に処理する」「必要に応じて」）
- 前提知識に依存した記述（プロジェクト固有の用語は説明を追加）
- 複数機能の混在（1テンプレート = 1機能）

---

## 記入例

### 例: 料理履歴検索機能

```markdown
## 1. 機能概要 (Overview)

### 機能名
料理履歴検索機能

### 目的・背景
ユーザーが過去に作った料理を再度作りたい場合、現状では全履歴を
スクロールして探す必要がある。キーワード検索により目的の料理を
素早く見つけられるようにする。

### ユーザーストーリー
ユーザーとして、料理名でキーワード検索したい。
なぜなら、過去に作った「カレー」を探して再度作りたいからだ。

## 2. 機能要件 (Functional Requirements)

### 入力 (Input)
- 検索キーワード（文字列、1文字以上）

### 処理 (Process)
1. キーワードが1文字以上か検証
2. 料理履歴テーブルから料理名に部分一致するレコードを取得
3. 作成日の降順でソート
4. 結果を返却

### 出力 (Output)
- 料理履歴のリスト（料理名、作成日、サムネイル画像URL）
- 該当なしの場合は空リスト

### 制約条件 (Constraints)
- 最大100件まで返却
- 削除済みレコードは除外

## 5. 技術仕様 (Technical Specification)

### 対象アプリケーション種別
- [x] モバイルアプリ (Flutter)
- [x] バックエンドAPI (FastAPI)

### 使用技術スタック
- 言語: Dart (Flutter 3.29), Python 3.11
- フレームワーク: Flutter, FastAPI
- 主要ライブラリ: Riverpod, SQLAlchemy
- データベース: MySQL

### 既存コードとの統合ポイント
- 変更対象ファイル:
  - lib/features/cooking_history/presentation/cooking_history_page.dart
  - app/features/cooking/router.py
- 参照すべき既存実装:
  - lib/features/cooking_calendar/ のDDDパターン
```

---

## 関連ドキュメント

- [TOON Format](../token/toon/README.md) - LLM最適化データフォーマット
