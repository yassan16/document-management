# AWS Storage Gateway
オンプレミスからAWSのストレージサービスへのアクセスを、高速かつセキュアに行うことができるサービス。

Storage Gatewayそのものは、Amazon S3やAmazon FSxなどのようなストレージサービスではない。
Gateway*1の名が示す通り、オンプレミスとAWSストレージサービスとを橋渡しする役目を持つサービス。  
 → ユーザーはStorage Gatewayを利用することによって、オンプレミスからS3やFSxなどのストレージサービスをデータ保存先として利用できる

*1 Gateway  
規格の異なるネットワーク間を中継して接続する機器。

## ユースケース
* 堅牢性・耐久性に優れたS3をファイル共有ストレージとして利用
* 災害対策を目的としたバックアップやアーカイブを行う
* あまりアクセスされないデータを自社サーバーからAWSへ移動させる

## ファイルゲートウェイ

## ボリュームゲートウェイ
オンプレミスからiSCSI*1を使用して、S3をブロックストレージボリュームとして利用できるサービスです。サーバーはiSCSIで接続されたストレージ（Storage Gatewayの場合はS3）をローカルディスクとして利用できる。  
ボリュームストレージ上のデータはS3にEBSスナップショットとして保存可能なので、災害対策や定期的なバックアップに利用できる。  
ボリュームゲートウェイには2つの種類がある。

*1 iSCSIとは？  
Internet Small Computer System Interface  
コンピュータのストレージを接続するSCSIをTCP/IPで実現したプロトコルのこと。

### 〇キャッシュ型（キャッシュボリューム）
すべてのデータをS3に保存し、高頻度アクセスのデータのみオンプレミスのキャッシュストレージにコピーする。
* データがキャッシュ上に存在しない場合はS3へアクセスするので遅延が発生する
* 反面、オンプレミスのストレージ容量を抑えることができる

### 〇保管型（ストアドボリューム）
すべてのデータをオンプレミスのボリュームストレージに保存し、S3に非同期でバックアップを保存する。
* キャッシュ型とは異なり全データへのアクセス先がオンプレミスになる
* S3へのアクセスによる遅延が発生しない
