# Amazon API Gateway
AWSサービスと連携するAPIの作成や管理ができる機能。  
マネージドサービスなので、Lambdaと組み合わせることで完全にサーバーレスでWebアプリケーションを実行できる。

例：  
1. クライアントからのHTTPリクエストをAPI Gatewayで受信
2. それをトリガーとしてLambda関数を実行
3. レスポンスをAPI Gateway経由で返す

## REST API（RESTful API）
クライアントからのリクエストに対してレスポンスを返す形式のAPI。  
サーバーが扱う情報はURI(URL)で定義されており、クライアントはHTTP（HTTPS）でリクエストを送信することでレスポンスを得る。  

データベースの検索など、クライアントからのリクエストに応答するアプリケーションで使用される。  

※ REST API（RESTful API）とは？  
REST（REpresentational State Transfer）という原則にのっとったAPIのことです。通信の状態が管理されない「ステートレス」な接続方式。

## WebSocket API
クライアントとサーバー間でリアルタイムな情報のやり取りを目的とするAPI。  
REST APIとは違い、継続的なデータの送受信を行える。

チャットや株価情報のような常に情報をモニタリングするようなアプリケーションで使われる。

※ WebSocket APIとは？  
サーバー・クライアント間で双方向のセッションを確立できる技術を利用したAPIのこと。通信の状態を管理される「ステートフル」な接続方式。

## API キャッシュ
Amazon API Gatewayにはクライアントへ送信したデータを保存する「API キャッシュ」機能がある。

REST APIではどのクライアントからでも同一のリクエストであれば同一のレスポンスになる。API キャッシュではクライアントに送ったレスポンスをAPI Gatewayでキャッシュし、再度同一のリクエストを受け取るとキャッシュからデータを返す。  
API キャッシュから応答を返すことにより、Lambda関数の実行を省略できるのでレスポンス速度が向上します。

## VPCリンク
前提：  
Amazon API Gatewayで作成したAPIは、ユーザーが管理するVPC外に配置される。  
そのため、作成したAPIからインターネットを経由してパブリックサブネット内のAWSリソースにはアクセスできるが、プライベートサブネット内のAWSリソースへ直接アクセスすることはできない。

API Gatewayからプライベートサブネット内のAWSリソースへアクセスさせたい場合は「VPCリンク」を作成する。  
これにより、APIとプライベートサブネット内のリソースとの間でインターネットを経由しないセキュアな通信が可能になる。
VPCリンク作成時に、アクセスしたいAWSリソース（EC2インスタンスなど）を直接指定することはできません。Network Load Balancerを対象として指定する。


